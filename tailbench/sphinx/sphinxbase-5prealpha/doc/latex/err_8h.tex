\section{include/sphinxbase/err.h File Reference}
\label{err_8h}\index{include/sphinxbase/err.\+h@{include/sphinxbase/err.\+h}}


Implementation of logging routines.  


{\ttfamily \#include $<$stdarg.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$errno.\+h$>$}\newline
{\ttfamily \#include $<$sphinxbase/sphinxbase\+\_\+export.\+h$>$}\newline
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\label{err_8h_a0e884a86577f53ae267ba646fe59da0d}} 
\#define {\bfseries E\+\_\+\+S\+Y\+S\+C\+A\+LL}(stmt, ...)~if (stmt) \textbf{ E\+\_\+\+F\+A\+T\+A\+L\+\_\+\+S\+Y\+S\+T\+EM}(\+\_\+\+\_\+\+V\+A\+\_\+\+A\+R\+G\+S\+\_\+\+\_\+);
\item 
\mbox{\label{err_8h_af785434ca409c25676442575cd2495e6}} 
\#define {\bfseries F\+I\+L\+E\+L\+I\+NE}~\+\_\+\+\_\+\+F\+I\+L\+E\+\_\+\+\_\+ , \+\_\+\+\_\+\+L\+I\+N\+E\+\_\+\+\_\+
\item 
\#define \textbf{ E\+\_\+\+F\+A\+T\+AL}(...)
\begin{DoxyCompactList}\small\item\em Exit with non-\/zero status after error message. \end{DoxyCompactList}\item 
\#define \textbf{ E\+\_\+\+F\+A\+T\+A\+L\+\_\+\+S\+Y\+S\+T\+EM}(...)
\begin{DoxyCompactList}\small\item\em Print error text; Call perror(\char`\"{}\char`\"{}); exit(errno);. \end{DoxyCompactList}\item 
\mbox{\label{err_8h_add0768056bee50c260c5623b4edd4038}} 
\#define \textbf{ E\+\_\+\+E\+R\+R\+O\+R\+\_\+\+S\+Y\+S\+T\+EM}(...)~err\+\_\+msg\+\_\+system(E\+R\+R\+\_\+\+E\+R\+R\+OR, F\+I\+L\+E\+L\+I\+NE, \+\_\+\+\_\+\+V\+A\+\_\+\+A\+R\+G\+S\+\_\+\+\_\+)
\begin{DoxyCompactList}\small\item\em Print error text; Call perror(\char`\"{}\char`\"{});. \end{DoxyCompactList}\item 
\mbox{\label{err_8h_a87a0a12135a290cf16d06b63fcfa0ccf}} 
\#define \textbf{ E\+\_\+\+E\+R\+R\+OR}(...)~err\+\_\+msg(E\+R\+R\+\_\+\+E\+R\+R\+OR, F\+I\+L\+E\+L\+I\+NE, \+\_\+\+\_\+\+V\+A\+\_\+\+A\+R\+G\+S\+\_\+\+\_\+)
\begin{DoxyCompactList}\small\item\em Print error message to error log. \end{DoxyCompactList}\item 
\mbox{\label{err_8h_aed4c99044fd3e70b7b33a0298a2279b4}} 
\#define \textbf{ E\+\_\+\+W\+A\+RN}(...)~err\+\_\+msg(E\+R\+R\+\_\+\+W\+A\+RN, F\+I\+L\+E\+L\+I\+NE, \+\_\+\+\_\+\+V\+A\+\_\+\+A\+R\+G\+S\+\_\+\+\_\+)
\begin{DoxyCompactList}\small\item\em Print warning message to error log. \end{DoxyCompactList}\item 
\mbox{\label{err_8h_a92dbeb77b8e1facc7b15abab6ad19b73}} 
\#define \textbf{ E\+\_\+\+I\+N\+FO}(...)~err\+\_\+msg(E\+R\+R\+\_\+\+I\+N\+FO, F\+I\+L\+E\+L\+I\+NE, \+\_\+\+\_\+\+V\+A\+\_\+\+A\+R\+G\+S\+\_\+\+\_\+)
\begin{DoxyCompactList}\small\item\em Print logging information to standard error stream. \end{DoxyCompactList}\item 
\mbox{\label{err_8h_aaf6601c7c08a803c55f2d55fcd8d5759}} 
\#define \textbf{ E\+\_\+\+I\+N\+F\+O\+C\+O\+NT}(...)~err\+\_\+msg(E\+R\+R\+\_\+\+I\+N\+F\+O\+C\+O\+NT, N\+U\+LL, 0, \+\_\+\+\_\+\+V\+A\+\_\+\+A\+R\+G\+S\+\_\+\+\_\+)
\begin{DoxyCompactList}\small\item\em Continue printing the information to standard error stream. \end{DoxyCompactList}\item 
\mbox{\label{err_8h_abe6c68e16406b5f7aee0ec70e1f7d7f1}} 
\#define \textbf{ E\+\_\+\+I\+N\+F\+O\+\_\+\+N\+O\+FN}(...)~err\+\_\+msg(E\+R\+R\+\_\+\+I\+N\+FO, N\+U\+LL, 0, \+\_\+\+\_\+\+V\+A\+\_\+\+A\+R\+G\+S\+\_\+\+\_\+)
\begin{DoxyCompactList}\small\item\em Print logging information without filename. \end{DoxyCompactList}\item 
\#define \textbf{ E\+\_\+\+D\+E\+B\+UG}(level,  x)
\begin{DoxyCompactList}\small\item\em Print debugging information to standard error stream. \end{DoxyCompactList}\item 
\mbox{\label{err_8h_a7e8c4b068434a0424751fc2d2c457807}} 
\#define {\bfseries E\+\_\+\+D\+E\+B\+U\+G\+C\+O\+NT}(level,  x)
\end{DoxyCompactItemize}
\subsection*{Typedefs}
\begin{DoxyCompactItemize}
\item 
\mbox{\label{err_8h_a57f70bbe592468358996a51ab70f5ee6}} 
typedef enum err\+\_\+e {\bfseries err\+\_\+lvl\+\_\+t}
\item 
\mbox{\label{err_8h_acd85e2692b5204208b001e6219df9674}} 
typedef void($\ast$ {\bfseries err\+\_\+cb\+\_\+f}) (void $\ast$user\+\_\+data, err\+\_\+lvl\+\_\+t, const char $\ast$,...)
\end{DoxyCompactItemize}
\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
\mbox{\label{err_8h_afb81270102ce9c1b3d15f3f78d89290d}} 
enum {\bfseries err\+\_\+e} \{ \newline
{\bfseries E\+R\+R\+\_\+\+D\+E\+B\+UG}, 
{\bfseries E\+R\+R\+\_\+\+I\+N\+FO}, 
{\bfseries E\+R\+R\+\_\+\+I\+N\+F\+O\+C\+O\+NT}, 
{\bfseries E\+R\+R\+\_\+\+W\+A\+RN}, 
\newline
{\bfseries E\+R\+R\+\_\+\+E\+R\+R\+OR}, 
{\bfseries E\+R\+R\+\_\+\+F\+A\+T\+AL}, 
{\bfseries E\+R\+R\+\_\+\+M\+AX}
 \}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\label{err_8h_a560638ee94fca8ffa65c033614fd4054}} 
S\+P\+H\+I\+N\+X\+B\+A\+S\+E\+\_\+\+E\+X\+P\+O\+RT void {\bfseries err\+\_\+msg} (err\+\_\+lvl\+\_\+t lvl, const char $\ast$path, long ln, const char $\ast$fmt,...)
\item 
\mbox{\label{err_8h_a6f843bd6298fdc072f15a708e48ab246}} 
S\+P\+H\+I\+N\+X\+B\+A\+S\+E\+\_\+\+E\+X\+P\+O\+RT void {\bfseries err\+\_\+msg\+\_\+system} (err\+\_\+lvl\+\_\+t lvl, const char $\ast$path, long ln, const char $\ast$fmt,...)
\item 
\mbox{\label{err_8h_a3e25c4aaad723deaeccee35c9a14871a}} 
S\+P\+H\+I\+N\+X\+B\+A\+S\+E\+\_\+\+E\+X\+P\+O\+RT void {\bfseries err\+\_\+logfp\+\_\+cb} (void $\ast$user\+\_\+data, err\+\_\+lvl\+\_\+t level, const char $\ast$fmt,...)
\item 
S\+P\+H\+I\+N\+X\+B\+A\+S\+E\+\_\+\+E\+X\+P\+O\+RT void \textbf{ err\+\_\+set\+\_\+callback} (err\+\_\+cb\+\_\+f callback, void $\ast$user\+\_\+data)
\begin{DoxyCompactList}\small\item\em Sets function to output error messages. \end{DoxyCompactList}\item 
S\+P\+H\+I\+N\+X\+B\+A\+S\+E\+\_\+\+E\+X\+P\+O\+RT void \textbf{ err\+\_\+set\+\_\+logfp} (F\+I\+LE $\ast$stream)
\begin{DoxyCompactList}\small\item\em Direct all logging to a given filehandle if default logfp callback is set. \end{DoxyCompactList}\item 
S\+P\+H\+I\+N\+X\+B\+A\+S\+E\+\_\+\+E\+X\+P\+O\+RT F\+I\+LE $\ast$ \textbf{ err\+\_\+get\+\_\+logfp} (void)
\begin{DoxyCompactList}\small\item\em Get the current logging filehandle. \end{DoxyCompactList}\item 
S\+P\+H\+I\+N\+X\+B\+A\+S\+E\+\_\+\+E\+X\+P\+O\+RT int \textbf{ err\+\_\+set\+\_\+logfile} (const char $\ast$path)
\begin{DoxyCompactList}\small\item\em Append all log messages to a given file. \end{DoxyCompactList}\item 
S\+P\+H\+I\+N\+X\+B\+A\+S\+E\+\_\+\+E\+X\+P\+O\+RT int \textbf{ err\+\_\+set\+\_\+debug\+\_\+level} (int level)
\begin{DoxyCompactList}\small\item\em Set debugging verbosity level. \end{DoxyCompactList}\item 
S\+P\+H\+I\+N\+X\+B\+A\+S\+E\+\_\+\+E\+X\+P\+O\+RT int \textbf{ err\+\_\+get\+\_\+debug\+\_\+level} (void)
\begin{DoxyCompactList}\small\item\em Get debugging verbosity level. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
Implementation of logging routines. 

Logging, warning, debug and error message output funtionality is provided in this file. Sphinxbase defines several level of logging messages -\/ I\+N\+FO, W\+A\+R\+N\+I\+NG, E\+R\+R\+OR, F\+A\+T\+AL. By default output goes to standard error output.

Logging is implemented through macros. They take same arguments as printf\+: format string and values. By default source file name and source line are prepended to the message. Log output could be redirected to any file using \doxyref{err\+\_\+set\+\_\+logfp()}{p.}{err_8h_a9200c98c02f9fb424ea35eaa14a437e8} and \doxyref{err\+\_\+set\+\_\+logfile()}{p.}{err_8h_a1ccfa2c3d46f765dac7066c417b5e926} functions. To disable logging in your application, call err\+\_\+set\+\_\+logfp(\+N\+U\+L\+L).

It\textquotesingle{}s possible to log multiline info messages, to do that you need to start message with E\+\_\+\+I\+N\+FO and output other lines with E\+\_\+\+I\+N\+F\+O\+C\+O\+NT. 

\subsection{Macro Definition Documentation}
\mbox{\label{err_8h_af46f94d0e21f22f1153f8f1cd9a372d6}} 
\index{err.\+h@{err.\+h}!E\+\_\+\+D\+E\+B\+UG@{E\+\_\+\+D\+E\+B\+UG}}
\index{E\+\_\+\+D\+E\+B\+UG@{E\+\_\+\+D\+E\+B\+UG}!err.\+h@{err.\+h}}
\subsubsection{E\+\_\+\+D\+E\+B\+UG}
{\footnotesize\ttfamily \#define E\+\_\+\+D\+E\+B\+UG(\begin{DoxyParamCaption}\item[{}]{level,  }\item[{}]{x }\end{DoxyParamCaption})}



Print debugging information to standard error stream. 

This will only print a message if\+:
\begin{DoxyEnumerate}
\item Debugging is enabled at compile time
\item The debug level is greater than or equal to {\itshape level} 
\end{DoxyEnumerate}

Note that for portability reasons the format and arguments must be enclosed in an extra set of parentheses. 

Definition at line 144 of file err.\+h.

\mbox{\label{err_8h_abaacffc3c0f14e4dd180b1e38c62c5a0}} 
\index{err.\+h@{err.\+h}!E\+\_\+\+F\+A\+T\+AL@{E\+\_\+\+F\+A\+T\+AL}}
\index{E\+\_\+\+F\+A\+T\+AL@{E\+\_\+\+F\+A\+T\+AL}!err.\+h@{err.\+h}}
\subsubsection{E\+\_\+\+F\+A\+T\+AL}
{\footnotesize\ttfamily \#define E\+\_\+\+F\+A\+T\+AL(\begin{DoxyParamCaption}\item[{}]{... }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{keywordflow}{do} \{                                           \(\backslash\)
        err\_msg(ERR\_FATAL, FILELINE, \_\_VA\_ARGS\_\_); \(\backslash\)
        exit(EXIT\_FAILURE);                        \(\backslash\)
    \} \textcolor{keywordflow}{while} (0)
\end{DoxyCode}


Exit with non-\/zero status after error message. 



Definition at line 81 of file err.\+h.



Referenced by agc\+\_\+type\+\_\+from\+\_\+str(), bio\+\_\+fread\+\_\+1d(), bio\+\_\+verify\+\_\+chksum(), cmn\+\_\+prior(), cmn\+\_\+type\+\_\+from\+\_\+str(), determinant(), fopen\+\_\+comp(), invert(), and solve().

\mbox{\label{err_8h_acc9aaeb2e0eb21f964913c14403d6795}} 
\index{err.\+h@{err.\+h}!E\+\_\+\+F\+A\+T\+A\+L\+\_\+\+S\+Y\+S\+T\+EM@{E\+\_\+\+F\+A\+T\+A\+L\+\_\+\+S\+Y\+S\+T\+EM}}
\index{E\+\_\+\+F\+A\+T\+A\+L\+\_\+\+S\+Y\+S\+T\+EM@{E\+\_\+\+F\+A\+T\+A\+L\+\_\+\+S\+Y\+S\+T\+EM}!err.\+h@{err.\+h}}
\subsubsection{E\+\_\+\+F\+A\+T\+A\+L\+\_\+\+S\+Y\+S\+T\+EM}
{\footnotesize\ttfamily \#define E\+\_\+\+F\+A\+T\+A\+L\+\_\+\+S\+Y\+S\+T\+EM(\begin{DoxyParamCaption}\item[{}]{... }\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}
\textcolor{keywordflow}{do} \{                                                                     \(\backslash\)
        err\_msg\_system(ERR\_FATAL, FILELINE, \_\_VA\_ARGS\_\_);                    \(\backslash\)
        exit(EXIT\_FAILURE);                                                  \(\backslash\)
    \} \textcolor{keywordflow}{while} (0)
\end{DoxyCode}


Print error text; Call perror(\char`\"{}\char`\"{}); exit(errno);. 



Definition at line 90 of file err.\+h.



\subsection{Function Documentation}
\mbox{\label{err_8h_a1500dc011016aa15244d0d7f2fe66a7e}} 
\index{err.\+h@{err.\+h}!err\+\_\+get\+\_\+debug\+\_\+level@{err\+\_\+get\+\_\+debug\+\_\+level}}
\index{err\+\_\+get\+\_\+debug\+\_\+level@{err\+\_\+get\+\_\+debug\+\_\+level}!err.\+h@{err.\+h}}
\subsubsection{err\+\_\+get\+\_\+debug\+\_\+level()}
{\footnotesize\ttfamily S\+P\+H\+I\+N\+X\+B\+A\+S\+E\+\_\+\+E\+X\+P\+O\+RT int err\+\_\+get\+\_\+debug\+\_\+level (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Get debugging verbosity level. 

Note that debugging messages are only enabled when compiled with -\/\+D\+D\+E\+B\+UG. 

Definition at line 287 of file err.\+c.

\mbox{\label{err_8h_a9707012f263e46ea66e93349313ddbe6}} 
\index{err.\+h@{err.\+h}!err\+\_\+get\+\_\+logfp@{err\+\_\+get\+\_\+logfp}}
\index{err\+\_\+get\+\_\+logfp@{err\+\_\+get\+\_\+logfp}!err.\+h@{err.\+h}}
\subsubsection{err\+\_\+get\+\_\+logfp()}
{\footnotesize\ttfamily S\+P\+H\+I\+N\+X\+B\+A\+S\+E\+\_\+\+E\+X\+P\+O\+RT F\+I\+LE$\ast$ err\+\_\+get\+\_\+logfp (\begin{DoxyParamCaption}\item[{void}]{ }\end{DoxyParamCaption})}



Get the current logging filehandle. 

\begin{DoxyReturn}{Returns}
Current logging filehandle, N\+U\+LL if logging is disabled. Initially it returns stderr 
\end{DoxyReturn}


Definition at line 268 of file err.\+c.

\mbox{\label{err_8h_abb253e337ff3774f3b089bbbbb2195f9}} 
\index{err.\+h@{err.\+h}!err\+\_\+set\+\_\+callback@{err\+\_\+set\+\_\+callback}}
\index{err\+\_\+set\+\_\+callback@{err\+\_\+set\+\_\+callback}!err.\+h@{err.\+h}}
\subsubsection{err\+\_\+set\+\_\+callback()}
{\footnotesize\ttfamily S\+P\+H\+I\+N\+X\+B\+A\+S\+E\+\_\+\+E\+X\+P\+O\+RT void err\+\_\+set\+\_\+callback (\begin{DoxyParamCaption}\item[{err\+\_\+cb\+\_\+f}]{callback,  }\item[{void $\ast$}]{user\+\_\+data }\end{DoxyParamCaption})}



Sets function to output error messages. 

Use it to redirect the logging to your application. By default the handler which dumps messages to stderr is set.


\begin{DoxyParams}{Parameters}
{\em -\/} & callback to pass messages too. \\
\hline
\end{DoxyParams}


Definition at line 293 of file err.\+c.

\mbox{\label{err_8h_ab77fa009824260d9f103308272dc89b8}} 
\index{err.\+h@{err.\+h}!err\+\_\+set\+\_\+debug\+\_\+level@{err\+\_\+set\+\_\+debug\+\_\+level}}
\index{err\+\_\+set\+\_\+debug\+\_\+level@{err\+\_\+set\+\_\+debug\+\_\+level}!err.\+h@{err.\+h}}
\subsubsection{err\+\_\+set\+\_\+debug\+\_\+level()}
{\footnotesize\ttfamily S\+P\+H\+I\+N\+X\+B\+A\+S\+E\+\_\+\+E\+X\+P\+O\+RT int err\+\_\+set\+\_\+debug\+\_\+level (\begin{DoxyParamCaption}\item[{int}]{level }\end{DoxyParamCaption})}



Set debugging verbosity level. 

Note that debugging messages are only enabled when compiled with -\/\+D\+D\+E\+B\+UG.


\begin{DoxyParams}{Parameters}
{\em level} & Verbosity level to set, or 0 to disable debug messages. \\
\hline
\end{DoxyParams}


Definition at line 279 of file err.\+c.

\mbox{\label{err_8h_a1ccfa2c3d46f765dac7066c417b5e926}} 
\index{err.\+h@{err.\+h}!err\+\_\+set\+\_\+logfile@{err\+\_\+set\+\_\+logfile}}
\index{err\+\_\+set\+\_\+logfile@{err\+\_\+set\+\_\+logfile}!err.\+h@{err.\+h}}
\subsubsection{err\+\_\+set\+\_\+logfile()}
{\footnotesize\ttfamily S\+P\+H\+I\+N\+X\+B\+A\+S\+E\+\_\+\+E\+X\+P\+O\+RT int err\+\_\+set\+\_\+logfile (\begin{DoxyParamCaption}\item[{const char $\ast$}]{path }\end{DoxyParamCaption})}



Append all log messages to a given file. 

Previous logging filehandle is closed (unless it was stdout or stderr).


\begin{DoxyParams}{Parameters}
{\em file} & File path to send log messages to \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
0 for success, $<$0 for failure (e.\+g. if file does not exist) 
\end{DoxyReturn}


Definition at line 241 of file err.\+c.

\mbox{\label{err_8h_a9200c98c02f9fb424ea35eaa14a437e8}} 
\index{err.\+h@{err.\+h}!err\+\_\+set\+\_\+logfp@{err\+\_\+set\+\_\+logfp}}
\index{err\+\_\+set\+\_\+logfp@{err\+\_\+set\+\_\+logfp}!err.\+h@{err.\+h}}
\subsubsection{err\+\_\+set\+\_\+logfp()}
{\footnotesize\ttfamily S\+P\+H\+I\+N\+X\+B\+A\+S\+E\+\_\+\+E\+X\+P\+O\+RT void err\+\_\+set\+\_\+logfp (\begin{DoxyParamCaption}\item[{F\+I\+LE $\ast$}]{stream }\end{DoxyParamCaption})}



Direct all logging to a given filehandle if default logfp callback is set. 


\begin{DoxyParams}{Parameters}
{\em logfp} & Filehandle to send log messages to, or N\+U\+LL to disable logging. \\
\hline
\end{DoxyParams}


Definition at line 255 of file err.\+c.

